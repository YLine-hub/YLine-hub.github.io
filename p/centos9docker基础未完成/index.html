<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="docker docker理念 一次镜像，处处运行。 docker是什么 Docker是基于Go语言实现的云开源项目。\nDocker的主要目标是“Build，Ship and Run Any App，Anywhere”，也就是通过对应组件的封装、分发、部署、运行的那个生命周期的管理，使用户的APP（可以是一个WEB应用或数据库应用等等）及其运行环境能呕做到“一次镜像，处处运行”。\n">
<title>[CentOS9]docker基础(未完成)</title>

<link rel='canonical' href='https://YLine-hub.github.io/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/'>

<link rel="stylesheet" href="/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css"><meta property='og:title' content="[CentOS9]docker基础(未完成)">
<meta property='og:description' content="docker docker理念 一次镜像，处处运行。 docker是什么 Docker是基于Go语言实现的云开源项目。\nDocker的主要目标是“Build，Ship and Run Any App，Anywhere”，也就是通过对应组件的封装、分发、部署、运行的那个生命周期的管理，使用户的APP（可以是一个WEB应用或数据库应用等等）及其运行环境能呕做到“一次镜像，处处运行”。\n">
<meta property='og:url' content='https://YLine-hub.github.io/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/'>
<meta property='og:site_name' content='リンボの個人ブログ'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-10-19T22:51:05&#43;08:00'/><meta property='article:modified_time' content='2025-10-19T22:51:05&#43;08:00'/>
<meta name="twitter:title" content="[CentOS9]docker基础(未完成)">
<meta name="twitter:description" content="docker docker理念 一次镜像，处处运行。 docker是什么 Docker是基于Go语言实现的云开源项目。\nDocker的主要目标是“Build，Ship and Run Any App，Anywhere”，也就是通过对应组件的封装、分发、部署、运行的那个生命周期的管理，使用户的APP（可以是一个WEB应用或数据库应用等等）及其运行环境能呕做到“一次镜像，处处运行”。\n">
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_7f398a7818085507.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">🏖️</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">リンボの個人ブログ</a></h1>
            <h2 class="site-description">努力不一定能获得回报，但不努力一定不会有回报。</h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>暗色模式</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#docker理念">docker理念</a></li>
    <li><a href="#docker是什么">docker是什么</a></li>
    <li><a href="#容器与虚拟机">容器与虚拟机</a>
      <ol>
        <li><a href="#虚拟机">虚拟机</a></li>
        <li><a href="#linux容器">Linux容器</a></li>
        <li><a href="#对比">对比</a></li>
      </ol>
    </li>
    <li><a href="#docker作用">docker作用</a></li>
    <li><a href="#docker三要素">docker三要素</a>
      <ol>
        <li><a href="#镜像与容器">镜像与容器</a></li>
      </ol>
    </li>
    <li><a href="#centos7上安装docker">CentOS7上安装docker</a></li>
    <li><a href="#centos9上安装docker">CentOS9上安装docker</a>
      <ol>
        <li><a href="#安装步骤">安装步骤</a>
          <ol>
            <li><a href="#删除老版本">删除老版本</a></li>
            <li><a href="#使用rpm仓库安装">使用rpm仓库安装</a></li>
            <li><a href="#第一个镜像">第一个镜像</a></li>
          </ol>
        </li>
        <li><a href="#卸载">卸载</a></li>
      </ol>
    </li>
    <li><a href="#阿里云镜像加速器配置">阿里云镜像加速器配置</a></li>
    <li><a href="#为什么docker会比虚拟机块">为什么docker会比虚拟机块</a></li>
    <li><a href="#docker常用命令">Docker常用命令</a>
      <ol>
        <li><a href="#帮助启动类">帮助启动类</a></li>
        <li><a href="#镜像命令">镜像命令</a>
          <ol>
            <li><a href="#查询本地镜像">查询本地镜像</a></li>
            <li><a href="#搜索仓库镜像">搜索仓库镜像</a></li>
            <li><a href="#拉取镜像">拉取镜像</a></li>
            <li><a href="#查看镜像容器数据卷所占空间">查看镜像/容器/数据卷所占空间</a></li>
            <li><a href="#删除镜像">删除镜像</a></li>
          </ol>
        </li>
        <li><a href="#面试题">面试题</a>
          <ol>
            <li><a href="#谈谈docker虚悬镜像是什么">谈谈docker虚悬镜像是什么？</a></li>
          </ol>
        </li>
        <li><a href="#容器命令">容器命令</a>
          <ol>
            <li><a href="#拉取镜像ubuntu">拉取镜像（ubuntu）</a></li>
            <li><a href="#新建并启动容器">新建并启动容器</a></li>
            <li><a href="#查看容器">查看容器</a></li>
            <li><a href="#退出容器">退出容器</a></li>
            <li><a href="#启动已经停止的容器">启动已经停止的容器</a></li>
            <li><a href="#重启容器">重启容器</a></li>
            <li><a href="#停止容器">停止容器</a></li>
            <li><a href="#强制停止容器">强制停止容器</a></li>
            <li><a href="#删除已停止的容器">删除已停止的容器</a></li>
            <li><a href="#一次性删除多个容器">一次性删除多个容器</a></li>
          </ol>
        </li>
        <li><a href="#容器命令重要">容器命令（重要）</a>
          <ol>
            <li><a href="#下载镜像redis">下载镜像(redis)</a></li>
            <li><a href="#启动守护式容器后台服务器">启动守护式容器（后台服务器）</a></li>
            <li><a href="#查看容器日志">查看容器日志</a></li>
            <li><a href="#查看容器内运行的进程">查看容器内运行的进程</a></li>
            <li><a href="#查看容器内部细节">查看容器内部细节</a></li>
            <li><a href="#进入正在运行的容器并以命令行交互">进入正在运行的容器并以命令行交互</a></li>
            <li><a href="#进入正在运行的redis容器进行交互">进入正在运行的redis容器进行交互</a></li>
            <li><a href="#从容器内拷贝拷贝文件到主机上">从容器内拷贝拷贝文件到主机上</a></li>
            <li><a href="#导入导出容器">导入导出容器</a></li>
            <li><a href="#生词-4">生词</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#docker镜像">Docker镜像</a>
      <ol>
        <li><a href="#镜像是什么">镜像是什么</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/docker/" >
                Docker
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/">[CentOS9]docker基础(未完成)</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2025-10-19</time>
            </div>
        

        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="docker">docker
</h1><h2 id="docker理念">docker理念
</h2><ul>
<li>一次镜像，处处运行。</li>
</ul>
<h2 id="docker是什么">docker是什么
</h2><ul>
<li>
<p><font color=red>Docker是基于Go语言实现的云开源项目。</font></p>
</li>
<li>
<p>Docker的主要目标是“Build，Ship and Run Any App，Anywhere”，也就是通过对应组件的封装、分发、部署、运行的那个生命周期的管理，使用户的APP（可以是一个WEB应用或数据库应用等等）及其运行环境能呕做到<font color=red>“一次镜像，处处运行”</font>。</p>
</li>
<li>
<p><font color=blue>Linux容器技术的出现就解决了这样一个问题，而Docker就是在它的基础上发展过来的。</font>将应用打成镜像，通过镜像成为运行在Docker容器上面的实例，而Docker容器在任何操作系统上都是一致的，这就实现了跨平台、跨服务器。<font color=red>只需要一次配置好环境，换到别的机子上就可以一键部署好，大大简化了操作。</font></p>
</li>
</ul>
<p><font color=red>总结：解决了运行环境和配置问题的软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术。</font></p>
<h2 id="容器与虚拟机">容器与虚拟机
</h2><h3 id="虚拟机">虚拟机
</h3><p>虚拟机：带环境安装的一种解决方案。它可以在一种操作系统里运行另一种操作系统。</p>
<ul>
<li>缺点：
<ul>
<li>资源占用多</li>
<li>冗余步骤多</li>
<li>启动慢</li>
</ul>
</li>
</ul>
<h3 id="linux容器">Linux容器
</h3><p>Linux容器：与系统其它部分隔离开的一系列进程，从另一个镜像运行，并由该镜像提供支持进程所需的全部文件。</p>
<h3 id="对比">对比
</h3><p>Docker容器是在操作系统层面上实现虚拟化，直接复用本地主机的操作系统，而传统虚拟机则是在硬件层面实现虚拟化。与传统虚拟机相比，Docker优势体现为<font color=red>启动速度快，占用体积小</font>。</p>
<p>Docker与传统虚拟机：</p>
<ul>
<li>传统虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程；</li>
<li>容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核且也没有进行硬件虚拟。因此容器要比传统虚拟机更为轻便。</li>
<li>每个容器之间相互隔离，每个容器有自己的文件系统，容器之间进程不会相互影响，能区分计算资源。</li>
</ul>
<h2 id="docker作用">docker作用
</h2><ul>
<li>一次构建、随处运行。
<ul>
<li>更快速的应用交付和部署</li>
<li>更便捷的升级和扩缩容。</li>
<li>更简单的系统运维。</li>
<li>更高效的计算资源利用。</li>
</ul>
</li>
</ul>
<h2 id="docker三要素">docker三要素
</h2><ul>
<li>镜像（image）：一个只读的模板。镜像可以用来创建Docker容器，一个镜像可以创建很多容器。</li>
<li>容器（container）：用镜像创建的运行实例。</li>
<li>仓库（repository）：集中存放镜像文件的场所。
<ul>
<li>公开仓库：最大的公开仓库<a class="link" href="https://hub.docker.com"  target="_blank" rel="noopener"
    >Docker Hub</a></li>
<li>私有仓库</li>
</ul>
</li>
</ul>
<h3 id="镜像与容器">镜像与容器
</h3><ul>
<li>从面向对象角度</li>
</ul>
<p>Docker利用容器独立运行的一个或一组应用，应用程序或服务运行在容器里，容器就类似于一个虚拟化的运行环境，容器是用镜像创建的运行实例。就像是Java中的类和实例对象一样，镜像是静态的定义，容器是镜像运行时的实体。容器为镜像提供了一个标准的和隔离的运行环境，它可以被启动、开始、停止、删除。每个容器都是相互隔离的、保证安全的平台。</p>
<ul>
<li>从镜像容器角度</li>
</ul>
<p>可以把容器看作是一个简易版的Linux环境（包括root用户权限、进程空间、用户空间和网络空间等）和运行在其中的应用程序。</p>
<h2 id="centos7上安装docker">CentOS7上安装docker
</h2><h2 id="centos9上安装docker">CentOS9上安装docker
</h2><h3 id="安装步骤">安装步骤
</h3><ul>
<li>
<p>官方文档：<a class="link" href="https://docs.docker.com/engine/install/centos"  target="_blank" rel="noopener"
    >Install Docker Engine on CentOS</a></p>
</li>
<li>
<p>环境要求：CentOS Stream 9 或者 CentOS Stream 10</p>
</li>
</ul>
<h4 id="删除老版本">删除老版本
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf remove docker \
</span></span><span class="line"><span class="cl">                  docker-client \
</span></span><span class="line"><span class="cl">                  docker-client-latest \
</span></span><span class="line"><span class="cl">                  docker-common \
</span></span><span class="line"><span class="cl">                  docker-latest \
</span></span><span class="line"><span class="cl">                  docker-latest-logrotate \
</span></span><span class="line"><span class="cl">                  docker-logrotate \
</span></span><span class="line"><span class="cl">                  docker-engine
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image.png"
	width="694"
	height="642"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image_hu_6a5ee3d1aec8ce6.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image_hu_ec8106ebad44e0e4.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="108"
		data-flex-basis="259px"
	
></p>
<h4 id="使用rpm仓库安装">使用rpm仓库安装
</h4><ul>
<li><strong>生词：</strong>
repository / rɪˈpɑːzətɔːri / n、仓库</li>
</ul>
<h5 id="步骤">步骤
</h5><ul>
<li>安装仓库</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf -y install dnf-plugins-core
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-1.png"
	width="938"
	height="472"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-1_hu_85135f40fe6433ea.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-1_hu_43dafb1a54a17843.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="198"
		data-flex-basis="476px"
	
></p>
<ul>
<li>设置仓库源
<ul>
<li>国内源（推荐）</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo dnf config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>官方源</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">sudo</span> <span class="n">dnf</span> <span class="n">config</span><span class="o">-</span><span class="n">manager</span> <span class="o">--</span><span class="n">add</span><span class="o">-</span><span class="n">repo</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">docker</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">linux</span><span class="o">/</span><span class="n">centos</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">ce</span><span class="o">.</span><span class="n">repo</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-2.png"
	width="1188"
	height="108"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-2_hu_66530f1a2cb3813f.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-2_hu_2f953baf7084e2d.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1100"
		data-flex-basis="2640px"
	
></p>
<ul>
<li>安装docker引擎</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 安装最新版本docker引擎
</span></span><span class="line"><span class="cl">sudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-3.png"
	width="1194"
	height="708"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-3_hu_e4f0cb4576177591.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-3_hu_a8372f0c2b6e30d4.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="168"
		data-flex-basis="404px"
	
></p>
<ul>
<li>配置国内镜像加速</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">vim /etc/docker/daemon.json
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">  &#34;registry-mirrors&#34;: [
</span></span><span class="line"><span class="cl">    &#34;https://docker.m.daocloud.io&#34;,
</span></span><span class="line"><span class="cl">    &#34;https://hub-mirror.c.163.com&#34;,
</span></span><span class="line"><span class="cl">    &#34;https://mirrors.tuna.tsinghua.edu.cn/docker-ce/&#34;
</span></span><span class="line"><span class="cl">  ]
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>开始docker引擎</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo systemctl enable --now docker
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-4.png"
	width="1188"
	height="100"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-4_hu_c26bdeb442aaa498.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-4_hu_2be8504ff3f6d67c.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1188"
		data-flex-basis="2851px"
	
></p>
<ul>
<li>验证</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo docker version
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-6.png"
	width="728"
	height="780"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-6_hu_b4d1fc5ac4030389.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-6_hu_defb23e86504ab7c.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="93"
		data-flex-basis="224px"
	
></p>
<h4 id="第一个镜像">第一个镜像
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">sudo docker run hello-world
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-5.png"
	width="1190"
	height="142"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-5_hu_7b821d161b6030fc.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-5_hu_b38fad7fbb3ca081.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="838"
		data-flex-basis="2011px"
	
></p>
<h5 id="报错">报错
</h5><blockquote>
<p>docker: Error response from daemon: Get &ldquo;<a class="link" href="https://registry-1.docker.io/v2/%22"  target="_blank" rel="noopener"
    >https://registry-1.docker.io/v2/"</a>: dial tcp: lookup registry-1.docker.io on 172.16.140.2:53: no such host</p>
</blockquote>
<p><strong>解决方法：配置DNS</strong></p>
<p><strong>设置静态ip及dns:</strong></p>
<ul>
<li>查看网络信息</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ifconfig
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-7.png"
	width="1140"
	height="938"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-7_hu_58d7c9238c50b251.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-7_hu_257dcf5e743f6088.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="121"
		data-flex-basis="291px"
	
></p>
<p>可以看到网卡为ens160</p>
<ul>
<li>查找网络文件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 在/etc目录文件匹配关键字&#39;ens160&#39;查找
</span></span><span class="line"><span class="cl">grep -rnw &#39;/etc&#39; -e &#39;ens160&#39;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-8.png"
	width="1188"
	height="106"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-8_hu_dfc6d23acd4e00ff.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-8_hu_427cfbd54fcc3455.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1120"
		data-flex-basis="2689px"
	
></p>
<ul>
<li>编辑网络配置文件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">vim /etc/NetworkManager/system-connections/ens160.nmconnection
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>初始网络配置文件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[connection]
</span></span><span class="line"><span class="cl">id=ens160
</span></span><span class="line"><span class="cl">uuid=cda03551-52cb-3117-ac32-60f962d7c856
</span></span><span class="line"><span class="cl">type=ethernet
</span></span><span class="line"><span class="cl">autoconnect-priority=-999
</span></span><span class="line"><span class="cl">interface-name=ens160
</span></span><span class="line"><span class="cl">timestamp=1760902922
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">[ethernet]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">[ipv4]
</span></span><span class="line"><span class="cl">method=auto
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">[ipv6]
</span></span><span class="line"><span class="cl">addr-gen-mode=eui64
</span></span><span class="line"><span class="cl">method=auto
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">[proxy]
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>添加如下内容</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">[ipv4]
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">address1=ip/24,gateway
</span></span><span class="line"><span class="cl">dns=dnsip1;dnsip2;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-8.png"
	width="1188"
	height="106"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-8_hu_dfc6d23acd4e00ff.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-8_hu_427cfbd54fcc3455.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1120"
		data-flex-basis="2689px"
	
></p>
<ul>
<li>重新加载配置文件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">nmcli</span> <span class="n">c</span> <span class="n">reload</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>启动ens160网卡</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">nmcli c up ens160
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="再次运行hello-world">再次运行hello-world
</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run hello-world
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-10.png"
	width="1184"
	height="930"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-10_hu_4a9c34547b7d1f1f.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-10_hu_e3d651557b9ecb7f.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="127"
		data-flex-basis="305px"
	
></p>
<h3 id="卸载">卸载
</h3><h2 id="阿里云镜像加速器配置">阿里云镜像加速器配置
</h2><ul>
<li>登陆阿里云，并点击控制台</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-11.png"
	width="2880"
	height="1580"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-11_hu_1ef01145c22b5605.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-11_hu_e05f030e95980a02.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="182"
		data-flex-basis="437px"
	
></p>
<ul>
<li>在控制台中点击左上角的三横杠</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-12.png"
	width="946"
	height="648"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-12_hu_edae68889a53be35.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-12_hu_359b1fdc8c0cc811.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="145"
		data-flex-basis="350px"
	
></p>
<ul>
<li>在产品与服务中找到容器镜像服务</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-13.png"
	width="606"
	height="734"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-13_hu_601b558cd009c996.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-13_hu_a98bb1f102ec095.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="82"
		data-flex-basis="198px"
	
></p>
<ul>
<li>选择镜像工具下的镜像加速器</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-14.png"
	width="430"
	height="452"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-14_hu_5be1576a4b0440f7.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-14_hu_805908736c5f7b44.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="95"
		data-flex-basis="228px"
	
></p>
<ul>
<li>通过操作文档配置镜像加速</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-15.png"
	width="1064"
	height="1188"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-15_hu_244fac55759727a4.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-15_hu_1e6a33159fcb8a1c.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="89"
		data-flex-basis="214px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">sudo</span> <span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">docker</span>
</span></span><span class="line"><span class="cl"><span class="n">sudo</span> <span class="n">tee</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">docker</span><span class="o">/</span><span class="n">daemon</span><span class="o">.</span><span class="n">json</span> <span class="o">&lt;&lt;-</span><span class="s1">&#39;EOF&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;registry-mirrors&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;https://********.mirror.aliyuncs.com&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">EOF</span>
</span></span><span class="line"><span class="cl"><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">daemon</span><span class="o">-</span><span class="n">reload</span>
</span></span><span class="line"><span class="cl"><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">docker</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="为什么docker会比虚拟机块">为什么docker会比虚拟机块
</h2><ul>
<li>docker有着比虚拟机更少的抽象层</li>
</ul>
<p>由于docker不需要Hypervisor（虚拟机）实现硬件资源虚拟化，运行在docker容器上的程序直接使用的都是实际物理机的硬件资源。因此在CPU、内存利用率上docker将会在效率上有明显优势。</p>
<ul>
<li>docker利用的是宿主机的内核，而不需要加载操作系统OS内核</li>
</ul>
<p>当新建一个容器时，docker不需要和虚拟机一样重新加载一个操作系统内核。进而避免引寻、加载操作系统内核返回等比较费事费资源的过程，当新建一个虚拟机时，虚拟机软件需要加载OS，返回新建过程时分钟级别的。而docer由于直接利用宿主机的操作系统，则省略了返回过程，因此新建一个docker容器只需要几秒钟。</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th></th>
          <th>Docker容器</th>
          <th>虚拟机（VM）</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>操作系统</td>
          <td>与宿主机共享OS</td>
          <td>宿主机OS上运行虚拟机OS</td>
      </tr>
      <tr>
          <td>存储大小</td>
          <td>镜像小，便于存储和传输</td>
          <td>镜像庞大（vmdk、vdi等）</td>
      </tr>
      <tr>
          <td>运行性能</td>
          <td>几乎无额外性能损失</td>
          <td>操作系统额外的CPU、内存消耗</td>
      </tr>
      <tr>
          <td>移植性</td>
          <td>轻便、灵活，适应于Linux</td>
          <td>笨重，与虚拟化技术耦合度高</td>
      </tr>
      <tr>
          <td>硬件亲和性</td>
          <td>面向软件开发者</td>
          <td>面向硬件运维者</td>
      </tr>
      <tr>
          <td>部署速度</td>
          <td>速度快，秒级</td>
          <td>较慢，10s以上</td>
      </tr>
  </tbody>
</table></div>
<h2 id="docker常用命令">Docker常用命令
</h2><h3 id="帮助启动类">帮助启动类
</h3><ul>
<li>启动类</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">systemctl start   docker # 启动docker
</span></span><span class="line"><span class="cl">systemctl stop    docker # 停止docker
</span></span><span class="line"><span class="cl">systemctl restart docker # 重启docker
</span></span><span class="line"><span class="cl">systemctl status  docker # 查看docker状态
</span></span><span class="line"><span class="cl">systemctl enable  docker # 开机启动
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>帮助类</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker info          # 查看docker概要信息
</span></span><span class="line"><span class="cl">docker --help        # 查看docker总体帮助文档
</span></span><span class="line"><span class="cl">docker 具体命令 help  # 查看docker命令帮助文档
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="镜像命令">镜像命令
</h3><h4 id="查询本地镜像">查询本地镜像
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker images
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-16.png"
	width="724"
	height="190"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-16_hu_738a91e470567456.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-16_hu_7dadc756996ed754.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="381"
		data-flex-basis="914px"
	
></p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>列名</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>REPOSITORY</td>
          <td>表示镜像的仓库源</td>
      </tr>
      <tr>
          <td>TAG</td>
          <td>镜像的标签版本号</td>
      </tr>
      <tr>
          <td>IMAGE ID</td>
          <td>镜像ID</td>
      </tr>
      <tr>
          <td>CREATED</td>
          <td>镜像创建时间</td>
      </tr>
      <tr>
          <td>VIRTUAL SIZE</td>
          <td>镜像大小</td>
      </tr>
  </tbody>
</table></div>
<p>同一个仓库源有多个TAG版本，代表这个仓库源的不同个版本，我们使用REPOSITORY:TAG来定义不同的镜像。如果你不指定一个镜像的版本标签，例如你只使用ubuntu，docker将默认使用ubuntu:latest镜像</p>
<ul>
<li>options</li>
</ul>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>参数</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>-a</td>
          <td>列出本地所有的镜像（含历史映像层）</td>
      </tr>
      <tr>
          <td>-q</td>
          <td>只显示镜像ID</td>
      </tr>
  </tbody>
</table></div>
<ul>
<li>列出所有镜像ID</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker images -qa
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-21.png"
	width="890"
	height="380"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-21_hu_9e668a10ce6d6611.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-21_hu_84d5243cb2b01153.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="234"
		data-flex-basis="562px"
	
></p>
<h4 id="搜索仓库镜像">搜索仓库镜像
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker search INAEM（镜像名称）
</span></span></code></pre></td></tr></table>
</div>
</div><div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>参数</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>NAME</td>
          <td>镜像名称</td>
      </tr>
      <tr>
          <td>DESCRIPTION</td>
          <td>镜像描述</td>
      </tr>
      <tr>
          <td>STARS</td>
          <td>点赞数量</td>
      </tr>
      <tr>
          <td>OFFICIAL</td>
          <td>是否是官方的</td>
      </tr>
      <tr>
          <td>AUTOMATED</td>
          <td>是否是自动构建的</td>
      </tr>
  </tbody>
</table></div>
<ul>
<li>
<p>options:</p>
<ul>
<li><code>--limit N</code>:只列出N个镜像，默认25个</li>
</ul>
</li>
<li>
<p>查询前5个名称中有redis的镜像</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker search --limit 5 redis
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="拉取镜像">拉取镜像
</h4><ul>
<li>下载最新版</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker pull &lt;image-name&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>下载指定版本</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker pull &lt;image-name&gt;[:TAG]
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>下载redis:6.0.8</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-17.png"
	width="1142"
	height="374"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-17_hu_b65d75c07b526a22.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-17_hu_249a6d8df6c7fb4e.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="305"
		data-flex-basis="732px"
	
></p>
<h5 id="生词">生词
</h5><ul>
<li>suppress / səˈpres / v、（武力）镇压；阻止（进程）；隐瞒（消息）</li>
<li>verbose / vɜːrˈboʊs / adj、冗长的；啰嗦的</li>
</ul>
<h4 id="查看镜像容器数据卷所占空间">查看镜像/容器/数据卷所占空间
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker system df
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-18.png"
	width="872"
	height="210"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-18_hu_1d20ae5754e96ed3.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-18_hu_11c65baefb8cbde9.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="415"
		data-flex-basis="996px"
	
></p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>列名</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>TYPE</td>
          <td>类型</td>
      </tr>
      <tr>
          <td>TOTAL</td>
          <td>总数</td>
      </tr>
      <tr>
          <td>ACTIVE</td>
          <td>正在使用数</td>
      </tr>
      <tr>
          <td>SIZE</td>
          <td>大小</td>
      </tr>
      <tr>
          <td>RECLAIMABLE</td>
          <td>可回收的磁盘空间大小</td>
      </tr>
  </tbody>
</table></div>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>TYPE</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Images</td>
          <td>镜像</td>
      </tr>
      <tr>
          <td>Containers</td>
          <td>容器</td>
      </tr>
      <tr>
          <td>Local Volumes</td>
          <td>本地卷（用于持久化数据）</td>
      </tr>
      <tr>
          <td>Build Cache</td>
          <td>建缓存（用于加速 Docker 构建过程）</td>
      </tr>
  </tbody>
</table></div>
<h5 id="生词-1">生词
</h5><ul>
<li>reclaimable / rɪˈkleɪməbəl / adj、可回收的</li>
<li>volumes / ˈvɑːljəmz / n、体积，容量；卷</li>
</ul>
<h4 id="删除镜像">删除镜像
</h4><ul>
<li>删除镜像</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker rmi INAME_or_IMAGEID
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>options</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-19.png"
	width="1380"
	height="336"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-19_hu_8972a3d4321f629f.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-19_hu_cc3c8eda3d2cb975.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="410"
		data-flex-basis="985px"
	
></p>
<ul>
<li>删除单个镜像</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker rmi -f INAME_or_IMAGEID
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>删除多个镜像</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker rmi -f INAME1:TAG_or_IMAGEID INAME2:TAG_or_IMAGEID
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-20.png"
	width="1318"
	height="478"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-20_hu_8c5ba86a6c2c8af4.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-20_hu_afa48cb9a759476.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="275"
		data-flex-basis="661px"
	
></p>
<ul>
<li>删除全部镜像</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker rmi -f $(docker images -qa)
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-22.png"
	width="1330"
	height="748"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-22_hu_cd929ebc418822d5.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-22_hu_9cedd43f9810231d.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="177"
		data-flex-basis="426px"
	
></p>
<h3 id="面试题">面试题
</h3><h4 id="谈谈docker虚悬镜像是什么">谈谈docker虚悬镜像是什么？
</h4><ul>
<li>是什么？</li>
</ul>
<p>仓库名、标签名都是<code>&lt;none&gt;</code>的镜像，俗称虚悬镜像dangling image</p>
<h3 id="容器命令">容器命令
</h3><h4 id="拉取镜像ubuntu">拉取镜像（ubuntu）
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker pull ubuntu
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-23.png"
	width="1140"
	height="534"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-23_hu_c75309245a71fa8b.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-23_hu_a739f5bed102998.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="213"
		data-flex-basis="512px"
	
></p>
<h4 id="新建并启动容器">新建并启动容器
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run [option] IMAGE [COMMAND] [ARG...]
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>options</li>
</ul>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>参数</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>&ndash;name=&ldquo;NAME&rdquo;</td>
          <td>为容器指定一个名称</td>
      </tr>
      <tr>
          <td>-d</td>
          <td>后台运行容器并返回容器ID，也即启动守护式容器（后台运行）</td>
      </tr>
      <tr>
          <td>-i</td>
          <td>以交互模式运行容器，通常与-t同时使用</td>
      </tr>
      <tr>
          <td>-t</td>
          <td>为容器分配一个伪输入终端，与-i同时使用，也即启动交互式容器（前台有伪终端，等待交互）</td>
      </tr>
      <tr>
          <td>-P</td>
          <td>随机端口映射，大写P</td>
      </tr>
      <tr>
          <td>-p</td>
          <td>指定端口映射，小写p</td>
      </tr>
  </tbody>
</table></div>
<ul>
<li>docker启动ubuntu</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 启动ubuntu
</span></span><span class="line"><span class="cl">docker run ubuntu
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-24.png"
	width="1518"
	height="200"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-24_hu_125df5c0f48a189e.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-24_hu_b8072fa26f2105c6.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="759"
		data-flex-basis="1821px"
	
></p>
<p><strong>启动后自动退出</strong>
原因：需要用伪终端交互打开</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 使用伪终端交互使用ubuntu，并设置shell交互命令的接口(bin或者/bin/bash)
</span></span><span class="line"><span class="cl"># 在容器内使用bash命令
</span></span><span class="line"><span class="cl">docker run -it ubuntu /bin/bash
</span></span><span class="line"><span class="cl">docker run -it ubuntu bash
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-25.png"
	width="746"
	height="82"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-25_hu_5a92b43523cc39c5.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-25_hu_9038f2e350b7a2b6.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="909"
		data-flex-basis="2183px"
	
></p>
<ul>
<li>查看docker正在运行的镜像</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-26.png"
	width="1366"
	height="604"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-26_hu_e472db946dd14d8d.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-26_hu_1409abc2d4a38a71.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="226"
		data-flex-basis="542px"
	
></p>
<ul>
<li>运行ubuntu并命名myu1</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -it --name=myu1 ubuntu bash
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-27.png"
	width="1210"
	height="364"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-27_hu_bc4d5f729f7cc23c.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-27_hu_a14505a50d213579.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="332"
		data-flex-basis="797px"
	
></p>
<h5 id="生词-2">生词
</h5><ul>
<li>
<p><code>-i</code> : interactive / ˌɪntərˈæktɪv / adj、交互式的</p>
</li>
<li>
<p><code>-t</code> : tty 终端</p>
</li>
<li>
<p>allocate / ˈæləkeɪt / v、分配</p>
</li>
</ul>
<h4 id="查看容器">查看容器
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps [options]
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>options</li>
</ul>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>参数</th>
          <th>说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>-a</td>
          <td>show all containers</td>
      </tr>
      <tr>
          <td>-l</td>
          <td>show the latest created container</td>
      </tr>
      <tr>
          <td>-n</td>
          <td>show n last created containers</td>
      </tr>
      <tr>
          <td>-q</td>
          <td>only display container IDs</td>
      </tr>
  </tbody>
</table></div>
<ul>
<li>展示最后创建的容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps -l
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-28.png"
	width="1224"
	height="168"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-28_hu_e6503ccc28184c42.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-28_hu_2121e6cb7cb185db.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="728"
		data-flex-basis="1748px"
	
></p>
<ul>
<li>展示正在运行的容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps 
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-29.png"
	width="1194"
	height="102"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-29_hu_891a73d6da41c6f.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-29_hu_994465a505ae85fb.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1170"
		data-flex-basis="2809px"
	
></p>
<ul>
<li>展示最后4个创建的容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps -n 4
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-30.png"
	width="1550"
	height="212"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-30_hu_67b884fd594280ac.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-30_hu_71819d34c956ebfb.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="731"
		data-flex-basis="1754px"
	
></p>
<ul>
<li>只展示容器的ID</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps -q
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-31.png"
	width="502"
	height="68"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-31_hu_d9d46e212b416938.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-31_hu_22bebfc4920a131e.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="738"
		data-flex-basis="1771px"
	
></p>
<h5 id="生词-3">生词
</h5><ul>
<li><code>-q</code> quiet / ˈkwaɪət / n/v、（使）安静 ； adj、安静的；沉默寡言的</li>
</ul>
<h4 id="退出容器">退出容器
</h4><ul>
<li>创建两个容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -it ubuntu bash
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-32.png"
	width="1314"
	height="138"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-32_hu_1568f4068e745ca0.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-32_hu_8f74a7238814fd26.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="952"
		data-flex-basis="2285px"
	
></p>
<ul>
<li>
<p>方式一：exit</p>
<ul>
<li>run进去容器，exit退出，容器停止</li>
</ul>
</li>
<li>
<p>退出容器 <code>0a48ed6d8300</code></p>
</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-33.png"
	width="500"
	height="222"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-33_hu_c06e4133c334989e.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-33_hu_5a29c6a68fec1aa6.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="225"
		data-flex-basis="540px"
	
></p>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-34.png"
	width="1326"
	height="320"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-34_hu_82be01aeae1bed7c.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-34_hu_9b3b9c82a9f683a6.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="414"
		data-flex-basis="994px"
	
></p>
<p>发现运行中的容器<code>0a48ed6d8300</code>已经没了</p>
<ul>
<li>方式二：ctrl+p+q
<ul>
<li>run进去容器，ctrl+p+q退出，容器不停止</li>
</ul>
</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-35.png"
	width="1560"
	height="266"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-35_hu_7a6b6eb87a44c8b8.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-35_hu_987b1d5d285de3dd.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="586"
		data-flex-basis="1407px"
	
></p>
<p>使用ctrl+p+q，退出了容器，但是容器还在运行</p>
<h4 id="启动已经停止的容器">启动已经停止的容器
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker start CONTAINER_ID_OR_NAME
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>查看最后两个容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps -n 2
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-36.png"
	width="1506"
	height="204"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-36_hu_a845bf3fc501e5a1.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-36_hu_a13c42cf022e69e4.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="738"
		data-flex-basis="1771px"
	
></p>
<p>可以看到其中ID为<code>0a48ed6d8300</code>的状态已经停止了</p>
<ul>
<li>重启<code>0a48ed6d8300</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker start 0a48ed6d8300
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-37.png"
	width="1560"
	height="270"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-37_hu_75b0b79e49ab9a2f.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-37_hu_d06d7c753c2b329e.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="577"
		data-flex-basis="1386px"
	
></p>
<p>可以看到重启的容器状态已经是开启了</p>
<h4 id="重启容器">重启容器
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker restart CONTAINER_ID_OR_NAME
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="停止容器">停止容器
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker stop CONTAINER_ID_OR_NAME
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="强制停止容器">强制停止容器
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker kill CONTAINER_ID_OR_NAME
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="删除已停止的容器">删除已停止的容器
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker rm CONTAINER_ID
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>删除正在运行的容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker rm 0a48ed6d8300
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-38.png"
	width="1546"
	height="286"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-38_hu_f1f67e4136ad9699.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-38_hu_3c4b261305a045fe.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="540"
		data-flex-basis="1297px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Error response from daemon: cannot remove container &#34;0a48ed6d8300&#34;: container is running: stop the container before removing or force remove
</span></span><span class="line"><span class="cl">来自daemon的错误响应：不能移除容器&#34;0a48ed6d8300&#34;，容器正在运行：移除之前停止这个容器或者强制移除
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>停止容器并删除</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 停止容器0a48ed6d8300
</span></span><span class="line"><span class="cl">docker stop 0a48ed6d8300
</span></span><span class="line"><span class="cl"># 删除容器0a48ed6d8300
</span></span><span class="line"><span class="cl">docker rm 0a48ed6d8300
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-39.png"
	width="1294"
	height="282"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-39_hu_487ac040ad834e83.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-39_hu_bb8abd7a49d9f9d4.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="458"
		data-flex-basis="1101px"
	
></p>
<p>成功删除容器</p>
<ul>
<li>再次启动容器<code>0a48ed6d8300</code></li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-40.png"
	width="846"
	height="104"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-40_hu_78f093e851b0a3aa.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-40_hu_a692db747bd9316a.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="813"
		data-flex-basis="1952px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Error response from daemon: No such container: 0a48ed6d8300
</span></span><span class="line"><span class="cl">Error: failed to start containers: 0a48ed6d8300
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">来自daemon的错误响应：没有这样的容器：0a48ed6d8300
</span></span><span class="line"><span class="cl">错误：启动失败容器：0a48ed6d8300
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>强制删除容器<code>3c64d193e546</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker rm -f 3c64d193e546
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-41.png"
	width="1316"
	height="288"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-41_hu_aec8d626b1443a50.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-41_hu_724e8839ed21dcd3.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="456"
		data-flex-basis="1096px"
	
></p>
<h4 id="一次性删除多个容器">一次性删除多个容器
</h4><ul>
<li>方式一</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker rm -f $(docker ps -a -q)
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 查询所有容器，并只展示ID
</span></span><span class="line"><span class="cl">docker ps -a -q
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 将查询出来的容器IDs作为参数传给 docker rm -f 
</span></span><span class="line"><span class="cl">docker rm -f $(docker ps -a -q)
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>方式二</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docer ps -a -q | xargs docker rm
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：</p>
<p>docker ps -a -q 查询出来的数据传给xargs，然后作为参数执行docker rm</p>
<h3 id="容器命令重要">容器命令（重要）
</h3><h4 id="下载镜像redis">下载镜像(redis)
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker pull redis
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-42.png"
	width="1140"
	height="252"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-42_hu_3811e497ac99eb65.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-42_hu_c0c7c9a8a4def333.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="452"
		data-flex-basis="1085px"
	
></p>
<h4 id="启动守护式容器后台服务器">启动守护式容器（后台服务器）
</h4><blockquote>
<p>在大部分的场景下，我们希望docker服务式在后台运行的，我们可以过-d指定容器的后台运行模式</p>
</blockquote>
<ul>
<li>启动守护式容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -d &lt;container_name&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ubuntu前后台启动演示:</strong></p>
<ul>
<li>使用镜像ubuntu以后台模式启动一个容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -d ubuntu
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-43.png"
	width="1010"
	height="192"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-43_hu_995801d301c3c620.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-43_hu_a998171b5a0dc647.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="526"
		data-flex-basis="1262px"
	
></p>
<p>发现docker中没有运行中的容器</p>
<ul>
<li>查看docker容器运行（含历史映像）</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps -a
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-44.png"
	width="1592"
	height="344"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-44_hu_ad5db098519bee5.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-44_hu_38b1cb8060995d0e.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="462"
		data-flex-basis="1110px"
	
></p>
<p>发现容器<code>8d9e73743b1b</code>已经退出了</p>
<p><strong>原因</strong>：<font color=red>Docker容器后台运行，就必须有一个前台进程。</font>容器运行的命令如果不是那些<font color=red>一直挂起的命令</font>（比如运行top，tail），就是会自动退出的。</p>
<p>这个是docker的机制问题，比如你的web容器，我们以nginx为例，正常情况下，我们配置服启动服务只需要启动响应式的service即可。例如service nginx start。但是，这样做，nginx为后台进程模式运行，就导致docker前台没有运行的应用，这样的容器后台启动后，就会立即自杀，因为他觉得他没事可做了。
所以，<strong>最佳的解决方案是</strong>，<font color=red>将你要运行的程序以前台进程的形式运行，常见就是命令行模式，表示我还有交互操作，别中断。</font></p>
<ul>
<li>前台运行ubuntu</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -it ubuntu
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-45.png"
	width="602"
	height="74"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-45_hu_90065d93964464ff.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-45_hu_681d574823cf97d0.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="813"
		data-flex-basis="1952px"
	
></p>
<p><strong>redis前后台启动演示：</strong></p>
<ol>
<li>前台交互式启动</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -it redis
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-46.png"
	width="1644"
	height="916"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-46_hu_e007d60623dbf4db.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-46_hu_5cae51640bacdc12.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="179"
		data-flex-basis="430px"
	
></p>
<p>如果不小心关掉，或者ctrl+c退出进程，redis就直接停止服务</p>
<ol start="2">
<li>后台守护式启动</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -d redis
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-47.png"
	width="1554"
	height="322"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-47_hu_a20b6bceff14a47a.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-47_hu_9d6a42f393851ac4.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="482"
		data-flex-basis="1158px"
	
></p>
<h4 id="查看容器日志">查看容器日志
</h4><ul>
<li>语法</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker logs &lt;container_id&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>查看容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-48.png"
	width="1532"
	height="98"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-48_hu_4d00eaf5f14f487c.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-48_hu_e14613ca4a893d53.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1563"
		data-flex-basis="3751px"
	
></p>
<ul>
<li>查看redis容器日志</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker logs a55b19d4ab06
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-49.png"
	width="1644"
	height="916"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-49_hu_c524ad41eb139494.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-49_hu_f51a32903110e850.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="179"
		data-flex-basis="430px"
	
></p>
<h4 id="查看容器内运行的进程">查看容器内运行的进程
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker top &lt;container_id&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>查看redis容器内部运行的进程</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker top 
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-50.png"
	width="2264"
	height="154"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-50_hu_a7700982b1d2511.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-50_hu_286c1bf58adc6cd1.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1470"
		data-flex-basis="3528px"
	
></p>
<h4 id="查看容器内部细节">查看容器内部细节
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker inspect &lt;container_id&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>查看redis容器内部细节</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker inspect 
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-51.png"
	width="1872"
	height="916"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-51_hu_5c4cba0f96442d69.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-51_hu_203698cdc880eaeb.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="204"
		data-flex-basis="490px"
	
></p>
<h4 id="进入正在运行的容器并以命令行交互">进入正在运行的容器并以命令行交互
</h4><p><strong>方法一：docker exec</strong></p>
<ul>
<li>语法</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker exec [options] &lt;container_id&gt; &lt;command&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>创建一个ubuntu</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -it ubuntu /bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-52.png"
	width="734"
	height="68"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-52_hu_395aa113635b7d57.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-52_hu_b71663c8818aafd4.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1079"
		data-flex-basis="2590px"
	
></p>
<p>id为<code>1fac0e86217b</code></p>
<ul>
<li>使用ctrl+p+q退出容器</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-53.png"
	width="588"
	height="122"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-53_hu_980c9255c04fccb.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-53_hu_775800f4f1243e35.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="481"
		data-flex-basis="1156px"
	
></p>
<ul>
<li>查看正在运行的容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps 
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-54.png"
	width="1546"
	height="194"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-54_hu_12aea7d75df7cdab.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-54_hu_dff113877535cc1.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="796"
		data-flex-basis="1912px"
	
></p>
<ul>
<li>重新进入ubuntu容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker exec -it 1fac0e86217b /bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-55.png"
	width="830"
	height="68"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-55_hu_62bb10fd1b6b07b8.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-55_hu_d9b1c0eaced6a17f.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1220"
		data-flex-basis="2929px"
	
></p>
<p><strong>方法二：docker attach</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker attach &lt;container_id&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>进入ubuntu容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker attach 1fac0e86217b
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>docker exec和docker attach的区别</strong></p>
<blockquote>
<p>attach直接进入容器启动命令的终端，不会启动新的进程用exit退出，会导致容器的停止。
exec是在容器中打开新的终端，并且可以启动新的进程，用exit退出，不会导致容器的停止。</p>
</blockquote>
<ul>
<li>docker exec</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-56.png"
	width="1690"
	height="644"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-56_hu_196cc7f3d36a988f.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-56_hu_6e377a201c6eac7a.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="262"
		data-flex-basis="629px"
	
></p>
<ul>
<li>docekr attach</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-58.png"
	width="1642"
	height="410"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-58_hu_955d9bb752678a9e.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-58_hu_f3118ed8bb55fa9c.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="400"
		data-flex-basis="961px"
	
></p>
<p>可以看到使用exit退出后就没了</p>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-59.png"
	width="1812"
	height="130"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-59_hu_1340f2bdb9663e24.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-59_hu_ab6863974bd22a1d.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1393"
		data-flex-basis="3345px"
	
></p>
<p>可以看到容器处于停止状态</p>
<ul>
<li>推荐使用exec</li>
</ul>
<h4 id="进入正在运行的redis容器进行交互">进入正在运行的redis容器进行交互
</h4><ul>
<li>查看容器id</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-60.png"
	width="1468"
	height="152"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-60_hu_dc1344111a2ad29c.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-60_hu_f99fdc613d0bd0d8.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="965"
		data-flex-basis="2317px"
	
></p>
<ul>
<li>进入redis容器，使用/bin/bash</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker exec -it a55b19d4ab06 /bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-61.png"
	width="850"
	height="80"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-61_hu_e45b9f5019b52c2d.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-61_hu_9ae60f09bbad61f2.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1062"
		data-flex-basis="2550px"
	
></p>
<ul>
<li>使用redis客户端进入redis</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">redis-cli -p 6379
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-62.png"
	width="602"
	height="64"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-62_hu_f94661b9e982f6a9.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-62_hu_321cb6574fc0bfa1.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="940"
		data-flex-basis="2257px"
	
></p>
<ul>
<li>测试redis功能</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-63.png"
	width="370"
	height="266"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-63_hu_56a0f6f81723bba4.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-63_hu_7fa04e4a978a4b0d.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="139"
		data-flex-basis="333px"
	
></p>
<ul>
<li>退出容器</li>
</ul>
<p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-64.png"
	width="424"
	height="150"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-64_hu_ccf2fca5ee21f5e7.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-64_hu_ad1632e4999ed80d.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="282"
		data-flex-basis="678px"
	
></p>
<ul>
<li>使用redis客户端打开redis容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker exec -it a55b19d4ab06 redis-cli
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-65.png"
	width="828"
	height="70"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-65_hu_8d9b7f978c304186.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-65_hu_bc6ee93416e63ac7.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1182"
		data-flex-basis="2838px"
	
></p>
<h4 id="从容器内拷贝拷贝文件到主机上">从容器内拷贝拷贝文件到主机上
</h4><ul>
<li>语法</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker cp &lt;container_id&gt;:path destination_path
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>新建ubuntu</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -it ubuntu /bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>在容器内创建a.txt文件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 进入临时目录
</span></span><span class="line"><span class="cl">cd /tmp
</span></span><span class="line"><span class="cl"># 创建a.txt文件
</span></span><span class="line"><span class="cl">touch a.txt
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-66.png"
	width="516"
	height="132"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-66_hu_88a93b4c7027f9a2.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-66_hu_aa58b65e6bfa9eb3.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="390"
		data-flex-basis="938px"
	
></p>
<ul>
<li>复制文件a.txt到本地/opt目录下</li>
</ul>
<p>path:/tmp/a.txt</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker cp 006e879ee419:/tmp/a.txt /opt
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-67.png"
	width="834"
	height="68"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-67_hu_c87993f7c15c4252.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-67_hu_713b335db0284c63.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="1226"
		data-flex-basis="2943px"
	
></p>
<ul>
<li>查看拷贝的文件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ls /opt
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-68.png"
	width="394"
	height="110"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-68_hu_ab07bb23dd7e019b.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-68_hu_ae0e483ef08f8a1c.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="358"
		data-flex-basis="859px"
	
></p>
<h4 id="导入导出容器">导入导出容器
</h4><h5 id="export-导入容器的内容流作为一个tar归档文件对应import命令">export 导入容器的内容流作为一个tar归档文件[对应import命令]
</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">docker</span> <span class="k">export</span> <span class="p">[</span><span class="n">container_id</span><span class="p">]</span> <span class="o">&gt;</span> <span class="p">[</span><span class="n">file_name</span><span class="p">]</span><span class="o">.</span><span class="n">tar</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="import-从tar包中的内容创建一个新的文件系统再导入为镜像对应expor">import 从tar包中的内容创建一个新的文件系统再导入为镜像[对应expor]
</h5><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cat &lt;file_name&gt;.tar | docker import - &lt;image_user&gt;/&lt;image_name&gt;:&lt;image_version&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="案例">案例
</h5><ul>
<li>查询容器id</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker ps
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>导出ubuntu容器(默认导出到当前目录)</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">docker</span> <span class="k">export</span> <span class="mf">006e879</span><span class="n">ee419</span> <span class="o">&gt;</span> <span class="n">ubuntu_backup</span><span class="o">.</span><span class="n">tar</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-69.png"
	width="1566"
	height="400"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-69_hu_5402503c3aecfcb.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-69_hu_b2b7b6b89dec2f52.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="391"
		data-flex-basis="939px"
	
></p>
<ul>
<li>删除正在运行的ubuntu容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker rm -f 006e879ee419
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-70.png"
	width="1464"
	height="212"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-70_hu_3d991ea4065eb81e.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-70_hu_aaa2ae93c0508d24.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="690"
		data-flex-basis="1657px"
	
></p>
<ul>
<li>导入容器</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cat ubuntu_back.tar | docker import - yline/ubuntu:6.6.6
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-71.png"
	width="1112"
	height="296"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-71_hu_7c2d041da6925535.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-71_hu_99b02627558c2188.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="375"
		data-flex-basis="901px"
	
></p>
<ul>
<li>运行刚刚导入的镜像，并找到a.txt</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker run -it 7fd7d82b1ac0 /bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-72.png"
	width="854"
	height="296"
	srcset="/p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-72_hu_c273aa8402219366.png 480w, /p/centos9docker%E5%9F%BA%E7%A1%80%E6%9C%AA%E5%AE%8C%E6%88%90/image-72_hu_e674ece44483dbb.png 1024w"
	loading="lazy"
	
		alt="alt text"
	
	
		class="gallery-image" 
		data-flex-grow="288"
		data-flex-basis="692px"
	
></p>
<h4 id="生词-4">生词
</h4><ul>
<li>detach / dɪˈtætʃ / v、使分离；脱离；派遣</li>
<li>override / ˌoʊvərˈraɪd / v、否决，推翻；比&hellip;.更重要；n、（预算、薪金等）增加；（对决定等的）否决，撤销</li>
<li>sequence / ˈsiːkwəns / v、按顺序排列； n、顺序，次序</li>
<li>alias / ˈeɪliəs / n、别名</li>
<li>destination / ˌdestɪˈneɪʃ(ə)n / n、目的地</li>
</ul>
<h2 id="docker镜像">Docker镜像
</h2><h3 id="镜像是什么">镜像是什么
</h3><ul>
<li>
<p>是一种轻量级、可执行的独立软件包，它包含运行某个软件所需的所有内容，我们把应用程序和配置依赖打包好形成一个可交付的运行环境（包括代码、运行时需要的库、环境变量和配置文件等），这个打包好的运行环境就是image镜像文件。</p>
</li>
<li>
<p>只有通过这个镜像文件才能生成Docker容器实例（类似java中new出一个对象）</p>
</li>
</ul>

</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 リンボの個人ブログ
    </section>
    
    <section class="powerby">
         <br />
        
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
